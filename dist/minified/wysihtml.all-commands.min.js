/*! wysihtml - v0.6.0-beta1 (2018-03-21) */

wysihtml.commands.alignCenterStyle=function(){var a={styleProperty:"textAlign",styleValue:"center",toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.alignJustifyStyle=function(){var a={styleProperty:"textAlign",styleValue:"justify",toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.alignLeftStyle=function(){var a={styleProperty:"textAlign",styleValue:"left",toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.alignRightStyle=function(){var a={styleProperty:"textAlign",styleValue:"right",toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.bgColorStyle=function(){return{exec:function(a,b,c){var d,e=wysihtml.quirks.styleParser.parseColor("background-color:"+(c.color||c),"background-color");e&&(d=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")",wysihtml.commands.formatInline.exec(a,b,{styleProperty:"backgroundColor",styleValue:d}))},state:function(a,b,c){var d,e=c?wysihtml.quirks.styleParser.parseColor("background-color:"+(c.color||c),"background-color"):null;return e&&(d=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")"),wysihtml.commands.formatInline.state(a,b,{styleProperty:"backgroundColor",styleValue:d})},remove:function(a,b){return wysihtml.commands.formatInline.remove(a,b,{styleProperty:"backgroundColor"})},stateValue:function(a,b,c){var d,e=this.state(a,b),f=!1;return e&&wysihtml.lang.object(e).isArray()&&(e=e[0]),e&&(d=e.getAttribute("style"))?(f=wysihtml.quirks.styleParser.parseColor(d,"background-color"),wysihtml.quirks.styleParser.unparseColor(f,c)):!1}}}(),wysihtml.commands.bold=function(){var a={nodeName:"B",toggle:!0};return{exec:function(b,c){wysihtml.commands.formatInline.exec(b,c,a),wysihtml.commands.formatInline.cleanEditor(b)},state:function(b,c){return wysihtml.commands.formatInline.state(b,c,a)}}}(),wysihtml.commands.formatCode=function(){return{exec:function(a,b,c){var d,e,f,g=this.state(a)[0];g?a.selection.executeAndRestore(function(){d=g.querySelector("code"),wysihtml.dom.replaceWithChildNodes(g),d&&wysihtml.dom.replaceWithChildNodes(d)}):(e=a.selection.getRange(),f=e.extractContents(),g=a.doc.createElement("pre"),d=a.doc.createElement("code"),c&&(d.className=c),g.appendChild(d),d.appendChild(f),e.insertNode(g),a.selection.selectNode(g))},state:function(a){var b,c=a.selection.getSelectedNode();return c&&c.nodeName&&"PRE"==c.nodeName&&c.firstChild&&c.firstChild.nodeName&&"CODE"==c.firstChild.nodeName?[c]:(b=wysihtml.dom.getParentElement(c,{query:"pre code"}),b?[b.parentNode]:!1)}}}(),wysihtml.commands.insertImage=function(){var a="IMG";return{exec:function(b,c,d){d="object"==typeof d?d:{src:d};var e,f,g=b.doc,h=this.state(b);if(h&&!d.src)return b.selection.setBefore(h),f=h.parentNode,f.removeChild(h),wysihtml.dom.removeEmptyTextNodes(f),"A"!==f.nodeName||f.firstChild||(b.selection.setAfter(f),f.parentNode.removeChild(f)),void wysihtml.quirks.redraw(b.element);if(h)for(var i in d)d.hasOwnProperty(i)&&h.setAttribute("className"===i?"class":i,d[i]);else{h=g.createElement(a);for(var j in d)h.setAttribute("className"===j?"class":j,d[j]);b.selection.insertNode(h),wysihtml.browser.hasProblemsSettingCaretAfterImg()?(e=g.createTextNode(wysihtml.INVISIBLE_SPACE),b.selection.insertNode(e),b.selection.setAfter(e)):b.selection.setAfter(h)}},state:function(b){var c,d,e,f=b.doc;return wysihtml.dom.hasElementWithTagName(f,a)&&(c=b.selection.getSelectedNode())?c.nodeName===a?c:c.nodeType!==wysihtml.ELEMENT_NODE?!1:(d=b.selection.getText(),(d=wysihtml.lang.string(d).trim())?!1:(e=b.selection.getNodes(wysihtml.ELEMENT_NODE,function(a){return"IMG"===a.nodeName}),1!==e.length?!1:e[0])):!1}}}(),wysihtml.commands.fontSize=function(){var a=/text-font-[0-9a-z\-]+/g;return{exec:function(b,c,d){wysihtml.commands.formatInline.exec(b,c,{className:"text-font-"+d,classRegExp:a,toggle:!0}),wysihtml.commands.formatInline.cleanEditor(b)},state:function(a,b,c){var d=wysihtml.commands.formatInline.state(a,b,{className:"text-font-"+c});return d&&$(".current-font").text(capitalise(d[0].className.replace("text-font-",""))),d}}}(),wysihtml.commands.fontSizeStyle=function(){return{exec:function(a,b,c){c=c.size||c,/^\s*$/.test(c)||wysihtml.commands.formatInline.exec(a,b,{styleProperty:"fontSize",styleValue:c,toggle:!1})},state:function(a,b,c){return wysihtml.commands.formatInline.state(a,b,{styleProperty:"fontSize",styleValue:c||void 0})},remove:function(a,b){return wysihtml.commands.formatInline.remove(a,b,{styleProperty:"fontSize"})},stateValue:function(a,b){var c,d=this.state(a,b);return d&&wysihtml.lang.object(d).isArray()&&(d=d[0]),d&&(c=d.getAttribute("style"))?wysihtml.quirks.styleParser.parseFontSize(c):!1}}}(),wysihtml.commands.foreColor=function(){var a=/wysiwyg-color-[0-9a-z]+/g;return{exec:function(b,c,d){wysihtml.commands.formatInline.exec(b,c,{className:"wysiwyg-color-"+d,classRegExp:a,toggle:!0})},state:function(a,b,c){return wysihtml.commands.formatInline.state(a,b,{className:"wysiwyg-color-"+c})}}}(),wysihtml.commands.foreColorStyle=function(){return{exec:function(a,b,c){var d,e;c&&(d=wysihtml.quirks.styleParser.parseColor("color:"+(c.color||c),"color"),d&&(e=(1===d[3]?"rgb("+[d[0],d[1],d[2]].join(", "):"rgba("+d.join(", "))+")",wysihtml.commands.formatInline.exec(a,b,{styleProperty:"color",styleValue:e})))},state:function(a,b,c){var d,e=c?wysihtml.quirks.styleParser.parseColor("color:"+(c.color||c),"color"):null;return e&&(d=(1===e[3]?"rgb("+[e[0],e[1],e[2]].join(", "):"rgba("+e.join(", "))+")"),wysihtml.commands.formatInline.state(a,b,{styleProperty:"color",styleValue:d})},remove:function(a,b){return wysihtml.commands.formatInline.remove(a,b,{styleProperty:"color"})},stateValue:function(a,b,c){var d,e=this.state(a,b),f=!1;return e&&wysihtml.lang.object(e).isArray()&&(e=e[0]),e&&(d=e.getAttribute("style"))?(f=wysihtml.quirks.styleParser.parseColor(d,"color"),wysihtml.quirks.styleParser.unparseColor(f,c)):!1}}}(),wysihtml.commands.insertBlockQuote=function(){var a={nodeName:"BLOCKQUOTE",toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.insertHorizontalRule=function(){return{exec:function(a){var b=a.selection.getSelectedNode(),c=wysihtml.dom.getParentElement(b,{query:wysihtml.PERMITTED_PHRASING_CONTENT_ONLY},null,a.editableArea),d=document.createElement("hr");c?a.selection.splitElementAtCaret(c,d):a.selection.insertNode(d),d.nextSibling?a.selection.setBefore(d.nextSibling):a.selection.setAfter(d)},state:function(){return!1}}}(),wysihtml.commands.insertImage=function(){var a="IMG";return{exec:function(b,c,d){d="object"==typeof d?d:{src:d};var e,f,g=b.doc,h=this.state(b);if(h&&!d.src)return b.selection.setBefore(h),f=h.parentNode,f.removeChild(h),wysihtml.dom.removeEmptyTextNodes(f),"A"!==f.nodeName||f.firstChild||(b.selection.setAfter(f),f.parentNode.removeChild(f)),void wysihtml.quirks.redraw(b.element);if(h)for(var i in d)d.hasOwnProperty(i)&&h.setAttribute("className"===i?"class":i,d[i]);else{h=g.createElement(a);for(var j in d)h.setAttribute("className"===j?"class":j,d[j]);b.selection.insertNode(h),wysihtml.browser.hasProblemsSettingCaretAfterImg()?(e=g.createTextNode(wysihtml.INVISIBLE_SPACE),b.selection.insertNode(e),b.selection.setAfter(e)):b.selection.setAfter(h)}},state:function(b){var c,d,e,f=b.doc;return wysihtml.dom.hasElementWithTagName(f,a)&&(c=b.selection.getSelectedNode())?c.nodeName===a?c:c.nodeType!==wysihtml.ELEMENT_NODE?!1:(d=b.selection.getText(),(d=wysihtml.lang.string(d).trim())?!1:(e=b.selection.getNodes(wysihtml.ELEMENT_NODE,function(a){return"IMG"===a.nodeName}),1!==e.length?!1:e[0])):!1}}}(),wysihtml.commands.insertOrderedList=function(){return{exec:function(a,b){wysihtml.commands.insertList.exec(a,b,"OL")},state:function(a,b){return wysihtml.commands.insertList.state(a,b,"OL")}}}(),wysihtml.commands.insertUnorderedList=function(){return{exec:function(a,b){wysihtml.commands.insertList.exec(a,b,"UL")},state:function(a,b){return wysihtml.commands.insertList.state(a,b,"UL")}}}(),wysihtml.commands.italic=function(){var a={nodeName:"I",toggle:!0};return{exec:function(b,c){wysihtml.commands.formatInline.exec(b,c,a),wysihtml.commands.formatInline.cleanEditor(b)},state:function(b,c){return wysihtml.commands.formatInline.state(b,c,a)}}}(),wysihtml.commands.justifyCenter=function(){var a={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.justifyFull=function(){var a={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.justifyLeft=function(){var a={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.justifyRight=function(){var a={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(b,c){return wysihtml.commands.formatBlock.exec(b,"formatBlock",a)},state:function(b,c){return wysihtml.commands.formatBlock.state(b,"formatBlock",a)}}}(),wysihtml.commands.subscript=function(){var a={nodeName:"SUB",toggle:!0};return{exec:function(b,c){wysihtml.commands.formatInline.exec(b,c,a),wysihtml.commands.formatInline.cleanEditor(b)},state:function(b,c){return wysihtml.commands.formatInline.state(b,c,a)}}}(),wysihtml.commands.superscript=function(){var a={nodeName:"SUP",toggle:!0};return{exec:function(b,c){wysihtml.commands.formatInline.exec(b,c,a),wysihtml.commands.formatInline.cleanEditor(b)},state:function(b,c){return wysihtml.commands.formatInline.state(b,c,a)}}}(),wysihtml.commands.addTableCells={exec:function(a,b,c){if(a.tableSelection&&a.tableSelection.start&&a.tableSelection.end){var d=wysihtml.dom.table.orderSelectionEnds(a.tableSelection.start,a.tableSelection.end);"before"==c||"above"==c?wysihtml.dom.table.addCells(d.start,c):("after"==c||"below"==c)&&wysihtml.dom.table.addCells(d.end,c),setTimeout(function(){a.tableSelection.select(d.start,d.end)},0)}},state:function(a,b){return!1}},wysihtml.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){for(f=c.tableStyle?'<table style="'+c.tableStyle+'">':"<table>",f+="<tbody>",e=0;e<c.rows;e++){for(f+="<tr>",d=0;d<c.cols;d++)f+="<td><br></td>";f+="</tr>"}f+="</tbody></table>",a.commands.exec("insertHTML",f)}},state:function(a,b){return!1}},wysihtml.commands.deleteTableCells={exec:function(a,b,c){if(a.tableSelection&&a.tableSelection.start&&a.tableSelection.end){var d,e=wysihtml.dom.table.orderSelectionEnds(a.tableSelection.start,a.tableSelection.end),f=wysihtml.dom.table.indexOf(e.start),g=a.tableSelection.table;wysihtml.dom.table.removeCells(e.start,c),setTimeout(function(){d=wysihtml.dom.table.findCell(g,f),d||("row"==c&&(d=wysihtml.dom.table.findCell(g,{row:f.row-1,col:f.col})),"column"==c&&(d=wysihtml.dom.table.findCell(g,{row:f.row,col:f.col-1}))),d&&a.tableSelection.select(d,d)},0)}},state:function(a,b){return!1}},wysihtml.commands.mergeTableCells={exec:function(a,b){a.tableSelection&&a.tableSelection.start&&a.tableSelection.end&&(this.state(a,b)?wysihtml.dom.table.unmergeCell(a.tableSelection.start):wysihtml.dom.table.mergeCellsBetween(a.tableSelection.start,a.tableSelection.end))},state:function(a,b){if(a.tableSelection){var c=a.tableSelection.start,d=a.tableSelection.end;if(c&&d&&c==d&&(wysihtml.dom.getAttribute(c,"colspan")&&parseInt(wysihtml.dom.getAttribute(c,"colspan"),10)>1||wysihtml.dom.getAttribute(c,"rowspan")&&parseInt(wysihtml.dom.getAttribute(c,"rowspan"),10)>1))return[c]}return!1}},wysihtml.commands.underline=function(){var a={nodeName:"U",toggle:!0};return{exec:function(b,c){wysihtml.commands.formatInline.exec(b,c,a),wysihtml.commands.formatInline.cleanEditor(b)},state:function(b,c){return wysihtml.commands.formatInline.state(b,c,a)}}}();
//# sourceMappingURL=wysihtml.all-commands.min.map